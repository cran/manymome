<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Shu Fai Cheung &amp; Sing-Hang Cheung" />

<meta name="date" content="2022-09-08" />

<title>Generating Bootstrap Estimates</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>
<script>// Hide empty <a> tag within highlighted CodeBlock for screen reader accessibility (see https://github.com/jgm/pandoc/issues/6352#issuecomment-626106786) -->
// v0.0.1
// Written by JooYoung Seo (jooyoung@psu.edu) and Atsushi Yasumoto on June 1st, 2020.

document.addEventListener('DOMContentLoaded', function() {
  const codeList = document.getElementsByClassName("sourceCode");
  for (var i = 0; i < codeList.length; i++) {
    var linkList = codeList[i].getElementsByTagName('a');
    for (var j = 0; j < linkList.length; j++) {
      if (linkList[j].innerHTML === "") {
        linkList[j].setAttribute('aria-hidden', 'true');
      }
    }
  }
});
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Generating Bootstrap Estimates</h1>
<h4 class="author">Shu Fai Cheung &amp; Sing-Hang Cheung</h4>
<h4 class="date">2022-09-08</h4>



<div id="introduction" class="section level1" number="1">
<h1 number="1"><span class="header-section-number">1</span> Introduction</h1>
<p>This article is a brief illustration of how to use <code>do_boot()</code> to generate bootstrap estimates for use by <code>indirect_effect()</code> and <code>cond_indirect_effects()</code> to form percentile bootstrap confidence intervals.</p>
<p>Although <code>indirect_effect()</code> and <code>cond_indirect_effects()</code> can also be used to generate bootstrap estimates when they are called (see <code>vignette(&quot;manymome&quot;)</code>), there may be situations in which users prefer generating the bootstrap estimates first before calling <code>indirect_effect()</code> and <code>cond_indirect_effects()</code>. <code>do_boot()</code> is for this purpose.</p>
</div>
<div id="data-set-and-model" class="section level1" number="2">
<h1 number="2"><span class="header-section-number">2</span> Data Set and Model</h1>
<p>This data set will be used for illustration:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">library</span>(manymome)</span>
<span id="cb1-2"><a href="#cb1-2"></a>dat &lt;-<span class="st"> </span>data_med</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="kw">head</span>(dat)</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="co">#&gt;           x        m        y       c1       c2</span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="co">#&gt; 1  9.931992 17.89644 20.73893 1.426513 6.103290</span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="co">#&gt; 2  8.331493 17.92150 22.91594 2.940388 3.832698</span></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="co">#&gt; 3 10.327471 17.83178 22.14201 3.012678 5.770532</span></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="co">#&gt; 4 11.196969 20.01750 25.05038 3.120056 4.654931</span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="co">#&gt; 5 11.887811 22.08645 28.47312 4.440018 3.959033</span></span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="co">#&gt; 6  8.198297 16.95198 20.73549 2.495083 3.763712</span></span></code></pre></div>
<p>It has one predictors (<code>x</code>), one mediator (<code>m</code>), one outcome variable (<code>y</code>), and two control variables (<code>c1</code> and <code>c2</code>).</p>
<p>This simple mediation model with two control variables (<code>c1</code> and <code>c2</code>) will be fitted:</p>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="models-fitted-by-lavaansem" class="section level1" number="3">
<h1 number="3"><span class="header-section-number">3</span> Models Fitted by <code>lavaan::sem()</code></h1>
<p>We first fit the model by <code>lavaan::sem()</code>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>mod &lt;-</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="st">&quot;</span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="st">m ~ x + c1 + c2</span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="st">y ~ m + x + c1 + c2</span></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="st">&quot;</span></span>
<span id="cb2-6"><a href="#cb2-6"></a>fit_lavaan &lt;-<span class="st"> </span><span class="kw">sem</span>(<span class="dt">model =</span> mod, <span class="dt">data =</span> dat,</span>
<span id="cb2-7"><a href="#cb2-7"></a>           <span class="dt">fixed.x =</span> <span class="ot">FALSE</span>,</span>
<span id="cb2-8"><a href="#cb2-8"></a>           <span class="dt">estimator =</span> <span class="st">&quot;MLR&quot;</span>)</span>
<span id="cb2-9"><a href="#cb2-9"></a><span class="kw">summary</span>(fit_lavaan)</span>
<span id="cb2-10"><a href="#cb2-10"></a><span class="co">#&gt; lavaan 0.6-12 ended normally after 1 iterations</span></span>
<span id="cb2-11"><a href="#cb2-11"></a><span class="co">#&gt; </span></span>
<span id="cb2-12"><a href="#cb2-12"></a><span class="co">#&gt;   Estimator                                         ML</span></span>
<span id="cb2-13"><a href="#cb2-13"></a><span class="co">#&gt;   Optimization method                           NLMINB</span></span>
<span id="cb2-14"><a href="#cb2-14"></a><span class="co">#&gt;   Number of model parameters                        15</span></span>
<span id="cb2-15"><a href="#cb2-15"></a><span class="co">#&gt; </span></span>
<span id="cb2-16"><a href="#cb2-16"></a><span class="co">#&gt;   Number of observations                           100</span></span>
<span id="cb2-17"><a href="#cb2-17"></a><span class="co">#&gt; </span></span>
<span id="cb2-18"><a href="#cb2-18"></a><span class="co">#&gt; Model Test User Model:</span></span>
<span id="cb2-19"><a href="#cb2-19"></a><span class="co">#&gt;                                               Standard      Robust</span></span>
<span id="cb2-20"><a href="#cb2-20"></a><span class="co">#&gt;   Test Statistic                                 0.000       0.000</span></span>
<span id="cb2-21"><a href="#cb2-21"></a><span class="co">#&gt;   Degrees of freedom                                 0           0</span></span>
<span id="cb2-22"><a href="#cb2-22"></a><span class="co">#&gt; </span></span>
<span id="cb2-23"><a href="#cb2-23"></a><span class="co">#&gt; Parameter Estimates:</span></span>
<span id="cb2-24"><a href="#cb2-24"></a><span class="co">#&gt; </span></span>
<span id="cb2-25"><a href="#cb2-25"></a><span class="co">#&gt;   Standard errors                             Sandwich</span></span>
<span id="cb2-26"><a href="#cb2-26"></a><span class="co">#&gt;   Information bread                           Observed</span></span>
<span id="cb2-27"><a href="#cb2-27"></a><span class="co">#&gt;   Observed information based on                Hessian</span></span>
<span id="cb2-28"><a href="#cb2-28"></a><span class="co">#&gt; </span></span>
<span id="cb2-29"><a href="#cb2-29"></a><span class="co">#&gt; Regressions:</span></span>
<span id="cb2-30"><a href="#cb2-30"></a><span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span></span>
<span id="cb2-31"><a href="#cb2-31"></a><span class="co">#&gt;   m ~                                                 </span></span>
<span id="cb2-32"><a href="#cb2-32"></a><span class="co">#&gt;     x                 0.935    0.075   12.437    0.000</span></span>
<span id="cb2-33"><a href="#cb2-33"></a><span class="co">#&gt;     c1                0.198    0.079    2.507    0.012</span></span>
<span id="cb2-34"><a href="#cb2-34"></a><span class="co">#&gt;     c2               -0.168    0.099   -1.703    0.089</span></span>
<span id="cb2-35"><a href="#cb2-35"></a><span class="co">#&gt;   y ~                                                 </span></span>
<span id="cb2-36"><a href="#cb2-36"></a><span class="co">#&gt;     m                 0.785    0.233    3.363    0.001</span></span>
<span id="cb2-37"><a href="#cb2-37"></a><span class="co">#&gt;     x                 0.508    0.323    1.573    0.116</span></span>
<span id="cb2-38"><a href="#cb2-38"></a><span class="co">#&gt;     c1                0.140    0.188    0.747    0.455</span></span>
<span id="cb2-39"><a href="#cb2-39"></a><span class="co">#&gt;     c2               -0.154    0.214   -0.720    0.471</span></span>
<span id="cb2-40"><a href="#cb2-40"></a><span class="co">#&gt; </span></span>
<span id="cb2-41"><a href="#cb2-41"></a><span class="co">#&gt; Covariances:</span></span>
<span id="cb2-42"><a href="#cb2-42"></a><span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span></span>
<span id="cb2-43"><a href="#cb2-43"></a><span class="co">#&gt;   x ~~                                                </span></span>
<span id="cb2-44"><a href="#cb2-44"></a><span class="co">#&gt;     c1                0.026    0.121    0.211    0.833</span></span>
<span id="cb2-45"><a href="#cb2-45"></a><span class="co">#&gt;     c2                0.100    0.084    1.186    0.235</span></span>
<span id="cb2-46"><a href="#cb2-46"></a><span class="co">#&gt;   c1 ~~                                               </span></span>
<span id="cb2-47"><a href="#cb2-47"></a><span class="co">#&gt;     c2               -0.092    0.109   -0.841    0.400</span></span>
<span id="cb2-48"><a href="#cb2-48"></a><span class="co">#&gt; </span></span>
<span id="cb2-49"><a href="#cb2-49"></a><span class="co">#&gt; Variances:</span></span>
<span id="cb2-50"><a href="#cb2-50"></a><span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span></span>
<span id="cb2-51"><a href="#cb2-51"></a><span class="co">#&gt;    .m                 0.681    0.085    7.976    0.000</span></span>
<span id="cb2-52"><a href="#cb2-52"></a><span class="co">#&gt;    .y                 4.030    0.580    6.944    0.000</span></span>
<span id="cb2-53"><a href="#cb2-53"></a><span class="co">#&gt;     x                 1.102    0.150    7.338    0.000</span></span>
<span id="cb2-54"><a href="#cb2-54"></a><span class="co">#&gt;     c1                1.218    0.161    7.540    0.000</span></span>
<span id="cb2-55"><a href="#cb2-55"></a><span class="co">#&gt;     c2                0.685    0.073    9.340    0.000</span></span></code></pre></div>
<p>Suppose we would like to use robust “sandwich” standard errors and confidence intervals provided by MLR for the free parameters, but want to use percentile nonparametric bootstrap confidence interval for the indirect effect. In the call above, we used <code>estimator = &quot;MLR&quot;</code> and did not set <code>se = &quot;boot&quot;</code>.</p>
<p>We can then call <code>do_boot()</code> on the output of <code>lavaan::sem()</code> to generate the bootstrap estimates of all free parameters <em>and</em> the implied statistics, such as the variances of <code>m</code> and <code>y</code>, which are not free parameters but are needed to form the confidence interval of the <em>standardized</em> indirect effect.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>boot_out_lavaan &lt;-<span class="st"> </span><span class="kw">do_boot</span>(<span class="dt">fit =</span> fit_lavaan,</span>
<span id="cb3-2"><a href="#cb3-2"></a>                           <span class="dt">R =</span> <span class="dv">100</span>,</span>
<span id="cb3-3"><a href="#cb3-3"></a>                           <span class="dt">ncores =</span> <span class="dv">1</span>)</span></code></pre></div>
<p>Usually, just three arguments are needed:</p>
<ul>
<li><p><code>fit</code>: The output of <code>lavaan::sem()</code>.</p></li>
<li><p><code>R</code>: The number of bootstrap samples. Should be at least 2000 or even 5000 in real research. 100 is used here just for illustration.</p></li>
<li><p><code>ncores</code>: The number of CPU cores to be used in generating bootstrap estimates in parallel processing.</p></li>
</ul>
<p>Parallel processing is enabled by default, and a text progress bar (generated by the package <code>pbapply</code>) will be displayed. If <code>ncores</code> is omitted, the number of cores (<code>ncores</code>) to be used will be decided automatically. Therefore, users usually do not need to use <code>ncores</code>. It is set to 1 here just for illustration.</p>
<p>In real research with a complicated model and moderate to large sample size, even with parallel processing, it may take several minutes, or even over twenty minutes in some cases. Nevertheless, this only need to be conducted once in the workflow of <code>manymome</code>.</p>
<p>If bootstrapping takes an appreciable time to run, it is recommended to save the output using <code>saveRDS()</code> or <code>save()</code>:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co">### Use saveRDS() </span><span class="al">###</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="co"># Save the output</span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="kw">saveRDS</span>(boot_out_lavaan, <span class="dt">file =</span> <span class="st">&quot;boot_out_lavaan.rds&quot;</span>)</span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="co"># Load the output</span></span>
<span id="cb4-5"><a href="#cb4-5"></a>boot_out_lavaan &lt;-<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">&quot;boot_out_lavaan.rds&quot;</span>)</span>
<span id="cb4-6"><a href="#cb4-6"></a></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="co">### Use save() </span><span class="al">###</span></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="co"># Save the output</span></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="kw">save</span>(boot_out_lavaan, <span class="dt">file =</span> <span class="st">&quot;boot_out_lavaan.RData&quot;</span>)</span>
<span id="cb4-10"><a href="#cb4-10"></a><span class="co"># Load the output</span></span>
<span id="cb4-11"><a href="#cb4-11"></a><span class="kw">load</span>(<span class="st">&quot;boot_out_lavaan.RData&quot;</span>)</span></code></pre></div>
<p>We recommend <code>readRDS()</code> although <code>save()</code> is probably a more popular function.</p>
<div id="the-structure-of-the-output" class="section level2" number="3.1">
<h2 number="3.1"><span class="header-section-number">3.1</span> The Structure of the Output</h2>
<p>The output of <code>do_boot()</code> in this case is an object of the class <code>boot_out</code>, which is a list of <code>R</code> lists, each with three elements: <code>est</code>, <code>implied_stats</code>, and <code>ok</code>.</p>
<p>This is the content of <code>est</code> of the first list:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>boot_out_lavaan[[<span class="dv">1</span>]]<span class="op">$</span>est</span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="co">#&gt;    lhs op rhs    est</span></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="co">#&gt; 1    m  ~   x  0.966</span></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="co">#&gt; 2    m  ~  c1  0.126</span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="co">#&gt; 3    m  ~  c2  0.053</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="co">#&gt; 4    y  ~   m  0.454</span></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="co">#&gt; 5    y  ~   x  0.814</span></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="co">#&gt; 6    y  ~  c1 -0.035</span></span>
<span id="cb5-9"><a href="#cb5-9"></a><span class="co">#&gt; 7    y  ~  c2  0.222</span></span>
<span id="cb5-10"><a href="#cb5-10"></a><span class="co">#&gt; 8    m ~~   m  0.736</span></span>
<span id="cb5-11"><a href="#cb5-11"></a><span class="co">#&gt; 9    y ~~   y  3.330</span></span>
<span id="cb5-12"><a href="#cb5-12"></a><span class="co">#&gt; 10   x ~~   x  1.112</span></span>
<span id="cb5-13"><a href="#cb5-13"></a><span class="co">#&gt; 11   x ~~  c1 -0.040</span></span>
<span id="cb5-14"><a href="#cb5-14"></a><span class="co">#&gt; 12   x ~~  c2  0.127</span></span>
<span id="cb5-15"><a href="#cb5-15"></a><span class="co">#&gt; 13  c1 ~~  c1  1.245</span></span>
<span id="cb5-16"><a href="#cb5-16"></a><span class="co">#&gt; 14  c1 ~~  c2  0.004</span></span>
<span id="cb5-17"><a href="#cb5-17"></a><span class="co">#&gt; 15  c2 ~~  c2  0.719</span></span>
<span id="cb5-18"><a href="#cb5-18"></a><span class="co">#&gt; 16   m r2   m  0.591</span></span>
<span id="cb5-19"><a href="#cb5-19"></a><span class="co">#&gt; 17   y r2   y  0.377</span></span></code></pre></div>
<p>The content is just the first four columns of the output of <code>lavaan::parameterEstimates()</code>.</p>
<p>This is the content of <code>implied_stats</code> of the first list:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>boot_out_lavaan[[<span class="dv">1</span>]]<span class="op">$</span>implied_stats</span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="co">#&gt; $cov</span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="co">#&gt;    m      y      x      c1     c2    </span></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="co">#&gt; m   1.800                            </span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="co">#&gt; y   1.724  5.345                     </span></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="co">#&gt; x   1.076  1.423  1.112              </span></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="co">#&gt; c1  0.118 -0.022 -0.040  1.245       </span></span>
<span id="cb6-8"><a href="#cb6-8"></a><span class="co">#&gt; c2  0.162  0.337  0.127  0.004  0.719</span></span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="co">#&gt; </span></span>
<span id="cb6-10"><a href="#cb6-10"></a><span class="co">#&gt; $mean</span></span>
<span id="cb6-11"><a href="#cb6-11"></a><span class="co">#&gt; numeric(0)</span></span>
<span id="cb6-12"><a href="#cb6-12"></a><span class="co">#&gt; </span></span>
<span id="cb6-13"><a href="#cb6-13"></a><span class="co">#&gt; $mean_lv</span></span>
<span id="cb6-14"><a href="#cb6-14"></a><span class="co">#&gt; numeric(0)</span></span></code></pre></div>
<p>It has three elements. <code>cov</code> is the implied variances and covariances of all variables. If a model has latent variables, they will be included too. The other elements, <code>mean</code> and <code>mean_lv</code>, are the implied means of the observed variables and the latent variables (if any), respectively. They are of zero length if mean structure is not in the fitted model.</p>
<p>The last element, <code>ok</code>, denotes whether the solution in a bootstrap sample is admissible or not (determined by <code>lavaan::lavInspect()</code> with <code>what = &quot;post.check&quot;</code>). If not admissible, it will not be used in forming confidence intervals.</p>
</div>
<div id="using-the-output-of-do_boot" class="section level2" number="3.2">
<h2 number="3.2"><span class="header-section-number">3.2</span> Using the Output of <code>do_boot()</code></h2>
<p>When calling <code>indirect_effect()</code> or <code>cond_indirect_effects()</code>, the argument <code>boot_out</code> can be assigned the output of <code>do_bout()</code>. They will then retrieve he stored bootstrap estimates to form the bootstrap confidence intervals, if requested.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>out_lavaan &lt;-<span class="st"> </span><span class="kw">indirect_effect</span>(<span class="dt">x =</span> <span class="st">&quot;x&quot;</span>,</span>
<span id="cb7-2"><a href="#cb7-2"></a>                              <span class="dt">y =</span> <span class="st">&quot;y&quot;</span>,</span>
<span id="cb7-3"><a href="#cb7-3"></a>                              <span class="dt">m =</span> <span class="st">&quot;m&quot;</span>,</span>
<span id="cb7-4"><a href="#cb7-4"></a>                              <span class="dt">fit =</span> fit_lavaan,</span>
<span id="cb7-5"><a href="#cb7-5"></a>                              <span class="dt">boot_ci =</span> <span class="ot">TRUE</span>,</span>
<span id="cb7-6"><a href="#cb7-6"></a>                              <span class="dt">boot_out =</span> boot_out_lavaan)</span>
<span id="cb7-7"><a href="#cb7-7"></a>out_lavaan</span>
<span id="cb7-8"><a href="#cb7-8"></a><span class="co">#&gt; </span></span>
<span id="cb7-9"><a href="#cb7-9"></a><span class="co">#&gt; == Indirect Effect ==</span></span>
<span id="cb7-10"><a href="#cb7-10"></a><span class="co">#&gt;                                      </span></span>
<span id="cb7-11"><a href="#cb7-11"></a><span class="co">#&gt;  Path:               x -&gt; m -&gt; y     </span></span>
<span id="cb7-12"><a href="#cb7-12"></a><span class="co">#&gt;  Indirect Effect     0.733           </span></span>
<span id="cb7-13"><a href="#cb7-13"></a><span class="co">#&gt;  95.0% Bootstrap CI: [0.233 to 1.221]</span></span>
<span id="cb7-14"><a href="#cb7-14"></a><span class="co">#&gt; </span></span>
<span id="cb7-15"><a href="#cb7-15"></a><span class="co">#&gt; Computation Formula:</span></span>
<span id="cb7-16"><a href="#cb7-16"></a><span class="co">#&gt;   (b.m~x)*(b.y~m)</span></span>
<span id="cb7-17"><a href="#cb7-17"></a><span class="co">#&gt; Computation:</span></span>
<span id="cb7-18"><a href="#cb7-18"></a><span class="co">#&gt;   (0.93469)*(0.78469)</span></span>
<span id="cb7-19"><a href="#cb7-19"></a><span class="co">#&gt; </span></span>
<span id="cb7-20"><a href="#cb7-20"></a><span class="co">#&gt; Percentile confidence interval formed by nonparametric bootstrapping</span></span>
<span id="cb7-21"><a href="#cb7-21"></a><span class="co">#&gt; with 100 bootstrap samples.</span></span>
<span id="cb7-22"><a href="#cb7-22"></a><span class="co">#&gt; </span></span>
<span id="cb7-23"><a href="#cb7-23"></a><span class="co">#&gt; Coefficients of Component Paths:</span></span>
<span id="cb7-24"><a href="#cb7-24"></a><span class="co">#&gt;  Path Coefficient</span></span>
<span id="cb7-25"><a href="#cb7-25"></a><span class="co">#&gt;   m~x       0.935</span></span>
<span id="cb7-26"><a href="#cb7-26"></a><span class="co">#&gt;   y~m       0.785</span></span></code></pre></div>
<p>Reusing the bootstrap estimates can ensure that all analysis with bootstrap confidence intervals are based on the same set of bootstrap samples.</p>
</div>
</div>
<div id="models-fitted-by-several-calls-to-lm" class="section level1" number="4">
<h1 number="4"><span class="header-section-number">4</span> Models Fitted by Several Calls to <code>lm()</code></h1>
<p>Suppose we estimate the parameters using multiple regression. We need to fit two regression models, one predicts <code>m</code> and the other predicts <code>y</code>:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># Fit Models</span></span>
<span id="cb8-2"><a href="#cb8-2"></a>lm_m &lt;-<span class="st"> </span><span class="kw">lm</span>(m <span class="op">~</span><span class="st"> </span>x <span class="op">+</span><span class="st"> </span>c1 <span class="op">+</span><span class="st"> </span>c2, dat)</span>
<span id="cb8-3"><a href="#cb8-3"></a>lm_y &lt;-<span class="st"> </span><span class="kw">lm</span>(y <span class="op">~</span><span class="st"> </span>m <span class="op">+</span><span class="st"> </span>x <span class="op">+</span><span class="st"> </span>c1 <span class="op">+</span><span class="st"> </span>c2, dat)</span>
<span id="cb8-4"><a href="#cb8-4"></a><span class="co">#</span></span>
<span id="cb8-5"><a href="#cb8-5"></a><span class="co"># ###### Regression: Predict m ######</span></span>
<span id="cb8-6"><a href="#cb8-6"></a><span class="kw">summary</span>(lm_m)</span>
<span id="cb8-7"><a href="#cb8-7"></a><span class="co">#&gt; </span></span>
<span id="cb8-8"><a href="#cb8-8"></a><span class="co">#&gt; Call:</span></span>
<span id="cb8-9"><a href="#cb8-9"></a><span class="co">#&gt; lm(formula = m ~ x + c1 + c2, data = dat)</span></span>
<span id="cb8-10"><a href="#cb8-10"></a><span class="co">#&gt; </span></span>
<span id="cb8-11"><a href="#cb8-11"></a><span class="co">#&gt; Residuals:</span></span>
<span id="cb8-12"><a href="#cb8-12"></a><span class="co">#&gt;      Min       1Q   Median       3Q      Max </span></span>
<span id="cb8-13"><a href="#cb8-13"></a><span class="co">#&gt; -1.82810 -0.56016 -0.08481  0.52524  2.09155 </span></span>
<span id="cb8-14"><a href="#cb8-14"></a><span class="co">#&gt; </span></span>
<span id="cb8-15"><a href="#cb8-15"></a><span class="co">#&gt; Coefficients:</span></span>
<span id="cb8-16"><a href="#cb8-16"></a><span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb8-17"><a href="#cb8-17"></a><span class="co">#&gt; (Intercept)  9.68941    0.91979  10.534   &lt;2e-16 ***</span></span>
<span id="cb8-18"><a href="#cb8-18"></a><span class="co">#&gt; x            0.93469    0.08083  11.563   &lt;2e-16 ***</span></span>
<span id="cb8-19"><a href="#cb8-19"></a><span class="co">#&gt; c1           0.19778    0.07678   2.576   0.0115 *  </span></span>
<span id="cb8-20"><a href="#cb8-20"></a><span class="co">#&gt; c2          -0.16841    0.10305  -1.634   0.1055    </span></span>
<span id="cb8-21"><a href="#cb8-21"></a><span class="co">#&gt; ---</span></span>
<span id="cb8-22"><a href="#cb8-22"></a><span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb8-23"><a href="#cb8-23"></a><span class="co">#&gt; </span></span>
<span id="cb8-24"><a href="#cb8-24"></a><span class="co">#&gt; Residual standard error: 0.8425 on 96 degrees of freedom</span></span>
<span id="cb8-25"><a href="#cb8-25"></a><span class="co">#&gt; Multiple R-squared:  0.5981, Adjusted R-squared:  0.5855 </span></span>
<span id="cb8-26"><a href="#cb8-26"></a><span class="co">#&gt; F-statistic: 47.62 on 3 and 96 DF,  p-value: &lt; 2.2e-16</span></span>
<span id="cb8-27"><a href="#cb8-27"></a><span class="co">#</span></span>
<span id="cb8-28"><a href="#cb8-28"></a><span class="co"># ###### Regression: Predict y ######</span></span>
<span id="cb8-29"><a href="#cb8-29"></a><span class="co">#</span></span>
<span id="cb8-30"><a href="#cb8-30"></a><span class="kw">summary</span>(lm_y)</span>
<span id="cb8-31"><a href="#cb8-31"></a><span class="co">#&gt; </span></span>
<span id="cb8-32"><a href="#cb8-32"></a><span class="co">#&gt; Call:</span></span>
<span id="cb8-33"><a href="#cb8-33"></a><span class="co">#&gt; lm(formula = y ~ m + x + c1 + c2, data = dat)</span></span>
<span id="cb8-34"><a href="#cb8-34"></a><span class="co">#&gt; </span></span>
<span id="cb8-35"><a href="#cb8-35"></a><span class="co">#&gt; Residuals:</span></span>
<span id="cb8-36"><a href="#cb8-36"></a><span class="co">#&gt;     Min      1Q  Median      3Q     Max </span></span>
<span id="cb8-37"><a href="#cb8-37"></a><span class="co">#&gt; -4.1336 -1.3365 -0.1014  1.4597  6.5470 </span></span>
<span id="cb8-38"><a href="#cb8-38"></a><span class="co">#&gt; </span></span>
<span id="cb8-39"><a href="#cb8-39"></a><span class="co">#&gt; Coefficients:</span></span>
<span id="cb8-40"><a href="#cb8-40"></a><span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)   </span></span>
<span id="cb8-41"><a href="#cb8-41"></a><span class="co">#&gt; (Intercept)   4.4152     3.3016   1.337  0.18432   </span></span>
<span id="cb8-42"><a href="#cb8-42"></a><span class="co">#&gt; m             0.7847     0.2495   3.145  0.00222 **</span></span>
<span id="cb8-43"><a href="#cb8-43"></a><span class="co">#&gt; x             0.5077     0.3057   1.661  0.10004   </span></span>
<span id="cb8-44"><a href="#cb8-44"></a><span class="co">#&gt; c1            0.1405     0.1941   0.724  0.47093   </span></span>
<span id="cb8-45"><a href="#cb8-45"></a><span class="co">#&gt; c2           -0.1544     0.2554  -0.604  0.54695   </span></span>
<span id="cb8-46"><a href="#cb8-46"></a><span class="co">#&gt; ---</span></span>
<span id="cb8-47"><a href="#cb8-47"></a><span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb8-48"><a href="#cb8-48"></a><span class="co">#&gt; </span></span>
<span id="cb8-49"><a href="#cb8-49"></a><span class="co">#&gt; Residual standard error: 2.06 on 95 degrees of freedom</span></span>
<span id="cb8-50"><a href="#cb8-50"></a><span class="co">#&gt; Multiple R-squared:  0.3576, Adjusted R-squared:  0.3305 </span></span>
<span id="cb8-51"><a href="#cb8-51"></a><span class="co">#&gt; F-statistic: 13.22 on 4 and 95 DF,  p-value: 1.336e-08</span></span></code></pre></div>
<p>To use <code>do_boot()</code>, we first combine the regression outputs to one object using <code>lm2list()</code>. The output is an <code>lm_list</code>-class object.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>fit_lm &lt;-<span class="st"> </span><span class="kw">lm2list</span>(lm_m, lm_y)</span>
<span id="cb9-2"><a href="#cb9-2"></a>fit_lm</span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="co">#&gt; </span></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="co">#&gt; The models:</span></span>
<span id="cb9-5"><a href="#cb9-5"></a><span class="co">#&gt; m ~ x + c1 + c2</span></span>
<span id="cb9-6"><a href="#cb9-6"></a><span class="co">#&gt; y ~ m + x + c1 + c2</span></span></code></pre></div>
<p>We can now use <code>do_boot()</code> as described above, using the output of <code>lm2list()</code> instead of the output of <code>lavaan::sem()</code>:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>boot_out_lm &lt;-<span class="st"> </span><span class="kw">do_boot</span>(<span class="dt">fit =</span> fit_lm,</span>
<span id="cb10-2"><a href="#cb10-2"></a>                       <span class="dt">R =</span> <span class="dv">100</span>,</span>
<span id="cb10-3"><a href="#cb10-3"></a>                       <span class="dt">seed =</span> <span class="dv">98715</span>)</span></code></pre></div>
<p>Speed is rarely a concern for a model with parameters estimated by <code>lm()</code>. Therefore, parallel processing is not used. Because the output may not be saved, it is recommended to set the seed of the random number generation using <code>seed</code>, set to 98715 in the above example. The seed can be any integer within the range allowed in R, see <code>set.seed()</code>. Setting the seed ensures that the same <code>R</code> set of bootstrap samples will be generated every time.</p>
<div id="the-structure-of-the-output-1" class="section level2" number="4.1">
<h2 number="4.1"><span class="header-section-number">4.1</span> The Structure of the Output</h2>
<p>The output of <code>do_boot()</code> using the outputs of <code>lm()</code> is identical to that using the output of <code>lavaan::sem()</code>. It is an object of the class <code>boot_out</code>, which is a list of <code>R</code> lists, each with two elements: <code>est</code> and <code>implied_stats</code>.</p>
<p>This is the content of <code>est</code> of the first list:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>boot_out_lm[[<span class="dv">1</span>]]<span class="op">$</span>est</span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="co">#&gt;   lhs op rhs        est</span></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="co">#&gt; 1   m  ~   x  0.9583396</span></span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="co">#&gt; 2   m  ~  c1  0.2808811</span></span>
<span id="cb11-5"><a href="#cb11-5"></a><span class="co">#&gt; 3   m  ~  c2 -0.3040130</span></span>
<span id="cb11-6"><a href="#cb11-6"></a><span class="co">#&gt; 4   m ~1      9.9351030</span></span>
<span id="cb11-7"><a href="#cb11-7"></a><span class="co">#&gt; 5   y  ~   m  0.3986059</span></span>
<span id="cb11-8"><a href="#cb11-8"></a><span class="co">#&gt; 6   y  ~   x  0.5626298</span></span>
<span id="cb11-9"><a href="#cb11-9"></a><span class="co">#&gt; 7   y  ~  c1  0.5010449</span></span>
<span id="cb11-10"><a href="#cb11-10"></a><span class="co">#&gt; 8   y  ~  c2 -0.3614863</span></span>
<span id="cb11-11"><a href="#cb11-11"></a><span class="co">#&gt; 9   y ~1     11.7212742</span></span></code></pre></div>
<p>The content is similar in structure to the output of <code>lavaan::parameterEstimates()</code>. However, the estimates are the estimates based on <code>lm()</code>.</p>
<p>This is the content of <code>implied_stats</code> of the first list:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>boot_out_lm[[<span class="dv">1</span>]]<span class="op">$</span>implied_stats</span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="co">#&gt; $cov</span></span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="co">#&gt;             m          x         c1          c2          y</span></span>
<span id="cb12-4"><a href="#cb12-4"></a><span class="co">#&gt; m   1.7489520 0.99463099 0.32168750 -0.15480736  1.4738922</span></span>
<span id="cb12-5"><a href="#cb12-5"></a><span class="co">#&gt; x   0.9946310 1.03034065 0.04418569  0.01709202  0.9921266</span></span>
<span id="cb12-6"><a href="#cb12-6"></a><span class="co">#&gt; c1  0.3216875 0.04418569 1.13244802  0.12743087  0.6744295</span></span>
<span id="cb12-7"><a href="#cb12-7"></a><span class="co">#&gt; c2 -0.1548074 0.01709202 0.12743087  0.68082701 -0.2343517</span></span>
<span id="cb12-8"><a href="#cb12-8"></a><span class="co">#&gt; y   1.4738922 0.99212663 0.67442949 -0.23435172  5.4383227</span></span>
<span id="cb12-9"><a href="#cb12-9"></a><span class="co">#&gt; </span></span>
<span id="cb12-10"><a href="#cb12-10"></a><span class="co">#&gt; $mean</span></span>
<span id="cb12-11"><a href="#cb12-11"></a><span class="co">#&gt;         m         x        c1        c2         y </span></span>
<span id="cb12-12"><a href="#cb12-12"></a><span class="co">#&gt; 18.487194  9.848009  2.329366  5.065314 23.967238</span></span></code></pre></div>
<p>It has two elements. <code>cov</code> is the variances and covariances of all variables. Unlike the output based on <code>lavaan::sem()</code>, the content is just the sample variances and covariances of the variables in each bootstrap sample, generated using <code>cov()</code>. The other element, <code>mean</code>, stores sample means of all variables in each bootstrap sample.</p>
</div>
<div id="using-the-output-of-do_boot-1" class="section level2" number="4.2">
<h2 number="4.2"><span class="header-section-number">4.2</span> Using the Output of <code>do_boot()</code></h2>
<p>When calling <code>indirect_effect()</code> or <code>cond_indirect_effects()</code>, we cab set the argument <code>boot_out</code> to the output of <code>do_bout()</code>:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>out_lm &lt;-<span class="st"> </span><span class="kw">indirect_effect</span>(<span class="dt">x =</span> <span class="st">&quot;x&quot;</span>,</span>
<span id="cb13-2"><a href="#cb13-2"></a>                          <span class="dt">y =</span> <span class="st">&quot;y&quot;</span>,</span>
<span id="cb13-3"><a href="#cb13-3"></a>                          <span class="dt">m =</span> <span class="st">&quot;m&quot;</span>,</span>
<span id="cb13-4"><a href="#cb13-4"></a>                          <span class="dt">fit =</span> fit_lm,</span>
<span id="cb13-5"><a href="#cb13-5"></a>                          <span class="dt">boot_ci =</span> <span class="ot">TRUE</span>,</span>
<span id="cb13-6"><a href="#cb13-6"></a>                          <span class="dt">boot_out =</span> boot_out_lm)</span>
<span id="cb13-7"><a href="#cb13-7"></a>out_lm</span>
<span id="cb13-8"><a href="#cb13-8"></a><span class="co">#&gt; </span></span>
<span id="cb13-9"><a href="#cb13-9"></a><span class="co">#&gt; == Indirect Effect ==</span></span>
<span id="cb13-10"><a href="#cb13-10"></a><span class="co">#&gt;                                      </span></span>
<span id="cb13-11"><a href="#cb13-11"></a><span class="co">#&gt;  Path:               x -&gt; m -&gt; y     </span></span>
<span id="cb13-12"><a href="#cb13-12"></a><span class="co">#&gt;  Indirect Effect     0.733           </span></span>
<span id="cb13-13"><a href="#cb13-13"></a><span class="co">#&gt;  95.0% Bootstrap CI: [0.277 to 1.206]</span></span>
<span id="cb13-14"><a href="#cb13-14"></a><span class="co">#&gt; </span></span>
<span id="cb13-15"><a href="#cb13-15"></a><span class="co">#&gt; Computation Formula:</span></span>
<span id="cb13-16"><a href="#cb13-16"></a><span class="co">#&gt;   (b.m~x)*(b.y~m)</span></span>
<span id="cb13-17"><a href="#cb13-17"></a><span class="co">#&gt; Computation:</span></span>
<span id="cb13-18"><a href="#cb13-18"></a><span class="co">#&gt;   (0.93469)*(0.78469)</span></span>
<span id="cb13-19"><a href="#cb13-19"></a><span class="co">#&gt; </span></span>
<span id="cb13-20"><a href="#cb13-20"></a><span class="co">#&gt; Percentile confidence interval formed by nonparametric bootstrapping</span></span>
<span id="cb13-21"><a href="#cb13-21"></a><span class="co">#&gt; with 100 bootstrap samples.</span></span>
<span id="cb13-22"><a href="#cb13-22"></a><span class="co">#&gt; </span></span>
<span id="cb13-23"><a href="#cb13-23"></a><span class="co">#&gt; Coefficients of Component Paths:</span></span>
<span id="cb13-24"><a href="#cb13-24"></a><span class="co">#&gt;  Path Coefficient</span></span>
<span id="cb13-25"><a href="#cb13-25"></a><span class="co">#&gt;   m~x       0.935</span></span>
<span id="cb13-26"><a href="#cb13-26"></a><span class="co">#&gt;   y~m       0.785</span></span></code></pre></div>
</div>
</div>
<div id="further-information" class="section level1" number="5">
<h1 number="5"><span class="header-section-number">5</span> Further Information</h1>
<p>For further information on <code>do_boot()</code>, please refer to its help page.</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
